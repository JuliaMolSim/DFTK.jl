Common self-contained functionality used by the rest of the package.
